import{D as S}from"./Default-ChJwo9GR.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as y,b as q,V as z,a as p}from"./VMain-DKxLhYFv.js";import{V as P}from"./VSpacer-D7pab23g.js";import{V as T,a as m}from"./VRow-ByxMWMfI.js";import{c as i,a as _}from"./VCard-cSlk8xmZ.js";import{V as $}from"./VTable-Dm9Q944t.js";import{a as x}from"./index-Cp1CCnje.js";import{o as d,c as F,w as e,b as r,i as c,a as t,t as s,f as h,j as b,F as k}from"./app-CuGCnhgu.js";import"./VAvatar-DGKvrq9b.js";const v={layout:S,computed:{totalQuantities(){return this.$page.props.order.quantities.reduce((l,a)=>l+a.quantity,0)},totalUSD(){return this.$page.props.order.quantities.reduce((l,a)=>l+this.getPriceForSize(a.size,"usd")*a.quantity,0)},totalRTGS(){return this.$page.props.order.quantities.reduce((l,a)=>l+this.getPriceForSize(a.size,"rtgs")*a.quantity,0)}},methods:{getPriceForSize(l,a="usd"){const n=this.$page.props.prices.find(f=>f.size===l);return n?a==="usd"?n.usd_price:n.rtgs_price:0},removeSize(l){this.$inertia.delete(route("order.removeSize",{order:this.$page.props.order.id,index:l}),{onSuccess:()=>{this.$toast.success("Size removed successfully!")},onError:()=>{this.$toast.error("Failed to remove size.")}})}}},C=t("thead",null,[t("tr",null,[t("th",{class:"text-left"},"Size"),t("th",{class:"text-left"},"Unit price"),t("th",{class:"text-left"},"Quantity"),t("th",{class:"text-left"},"USD Price"),t("th",{class:"text-left"},"RTGS Price"),t("th",{class:"text-left"},"Options")])],-1),D=t("td",null,[t("strong",null,"Totals")],-1),B=t("td",null,[t("strong")],-1),O=t("td",null,null,-1),R=t("h1",null,"Payment Details",-1);function U(l,a,n,f,w,u){return d(),F(y,{class:"mt-5",fluid:""},{default:e(()=>[r(i,{class:"glass pa-5"},{default:e(()=>[r(q,{class:"mb-5 rounded-lg"},{default:e(()=>[r(z,null,{default:e(()=>[c(" Order ")]),_:1}),r(P),r(p,{variant:"flat",class:"mr-3",href:"/order/order-add-client/"+l.$page.props.order.id},{default:e(()=>[c(" Back ")]),_:1},8,["href"])]),_:1}),r(T,null,{default:e(()=>[r(m,{cols:"12",sm:"6"},{default:e(()=>[r(i,null,{default:e(()=>[r(_,null,{default:e(()=>[t("h1",null,"Summary | Order for "+s(l.$page.props.category.name)+"(s)",1),r($,null,{default:e(()=>[C,t("tbody",null,[(d(!0),h(k,null,b(l.$page.props.order.quantities,(o,g)=>(d(),h("tr",{key:g},[t("td",null,s(o.size),1),t("td",null,"$ "+s(u.getPriceForSize(o.size,"usd")),1),t("td",null,s(o.quantity),1),t("td",null,s(u.getPriceForSize(o.size,"usd")*o.quantity),1),t("td",null,s(u.getPriceForSize(o.size,"rtgs")*o.quantity),1),t("td",null,[r(p,{color:"error",onClick:E=>u.removeSize(o.id)},{default:e(()=>[r(x,null,{default:e(()=>[c("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])])]))),128)),t("tr",null,[D,B,t("td",null,[t("strong",null,s(u.totalQuantities),1)]),t("td",null,[t("strong",null,s(u.totalUSD),1)]),t("td",null,[t("strong",null,s(u.totalRTGS),1)]),O])])]),_:1})]),_:1})]),_:1})]),_:1}),r(m,{cols:"12",sm:"6"},{default:e(()=>[r(i,null,{default:e(()=>[r(_,null,{default:e(()=>[R]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const M=V(v,[["render",U]]);export{M as default};
