import{A as y}from"./AppLayout-DyAtT0mK.js";import{k as b,o as p,c as C,w as i,b as r,i as m,a as t,f as c,j as w,t as n,F as v,l as D}from"./app-Cl41KS6a.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as S,V as k,a as d,c as z}from"./VMain-CATYbn2w.js";import{V}from"./VSpacer-BOCDp28J.js";import{V as T}from"./VTable-Dg6ZFnmt.js";import{V as A}from"./VDialog-BgPZgSCX.js";import{c as B,V as U,a as x,b as N}from"./VCard-Csc-1wQW.js";import{V as G}from"./VForm-BQE95a4T.js";import{V as g}from"./VSelect-VJu8yEKW.js";import{V as _}from"./VTextField-hiLECZOE.js";import"./index-DsaZ1FWs.js";import"./VMenu-DtuSbBuB.js";import"./VAvatar-DVztq09M.js";import"./VOverlay-DX-OpVhQ.js";import"./easing-DY7PVvcf.js";import"./lazy-BxG18cbM.js";import"./forwardRefs-C-GTDzx5.js";import"./form-jy44j9mz.js";import"./VCheckboxBtn-s7rAWLEC.js";import"./VChip-ydMFbG2Z.js";import"./VSlideGroup-ojcg22wy.js";const E={components:{AppLayout:y},data(){return{showDialog:!1,editingPrice:null,searchQuery:"",form:this.$inertia.form({id:null,category_id:"",size:"",gender:"",usd_price:"",rtgs_price:""})}},methods:{openAddDialog(){this.form.reset(),this.form.id=null,this.showDialog=!0},submitPrice(){this.form.post(route("admin.prices.store"),{onSuccess:()=>{this.showDialog=!1,this.form.reset()}})},openEditDialog(l){this.editingPrice=l,this.form.id=l.id,this.form.category_id=l.category_id,this.form.size=l.size,this.form.gender=l.gender,this.form.usd_price=l.usd_price,this.form.rtgs_price=l.rtgs_price,this.showDialog=!0},deletePrice(l){this.$swal.fire({title:"Are you sure you want to delete this price?"+l.category.name,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Yes, delete it",denyButtonText:"No, keep it"}).then(o=>{o.isConfirmed&&this.$inertia.visit(route("admin.prices.destroy",l.id),{method:"delete",onSuccess:()=>{this.$swal.fire({title:"Deleted",text:"Price deleted successfully",icon:"success"})}})})}}},F=t("thead",null,[t("tr",null,[t("th",null,"Category"),t("th",null,"Size"),t("th",null,"Gender"),t("th",null,"USD Price"),t("th",null,"RTGS Price"),t("th",null,"Actions")])],-1);function L(l,o,R,j,e,u){const h=b("AppLayout");return p(),C(h,null,{default:i(()=>[r(z,null,{default:i(()=>[r(S,{class:"mb-5"},{default:i(()=>[r(k,null,{default:i(()=>[m("Categories & Prices")]),_:1}),r(V),r(d,{variant:"flat",size:"large",color:"primary",onClick:u.openAddDialog},{default:i(()=>[m(" Add New Price ")]),_:1},8,["onClick"])]),_:1}),r(T,null,{default:i(()=>[F,t("tbody",null,[(p(!0),c(v,null,w(l.$page.props.prices,a=>(p(),c("tr",{key:a.id},[t("td",null,n(a.category.name),1),t("td",null,n(a.size),1),t("td",null,n(a.gender),1),t("td",null,"$"+n(a.usd_price),1),t("td",null,"RTGS "+n(a.rtgs_price),1),t("td",null,[r(d,{icon:"mdi-pencil",size:"small",class:"mr-2",onClick:f=>u.openEditDialog(a)},null,8,["onClick"]),r(d,{icon:"mdi-delete",size:"small",color:"error",onClick:f=>u.deletePrice(a)},null,8,["onClick"])])]))),128))])]),_:1}),r(A,{modelValue:e.showDialog,"onUpdate:modelValue":o[6]||(o[6]=a=>e.showDialog=a),"max-width":"500px"},{default:i(()=>[r(B,null,{default:i(()=>[r(U,null,{default:i(()=>[m(n(e.form.id?"Edit Price":"Add New Price"),1)]),_:1}),r(x,null,{default:i(()=>[r(G,{onSubmit:D(u.submitPrice,["prevent"])},{default:i(()=>{var a,f;return[r(g,{modelValue:e.form.category_id,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.category_id=s),items:l.$page.props.categories,"item-title":"name","item-value":"id",label:"Category",variant:"outlined","error-messages":e.form.errors.category_id,class:"mb-4"},null,8,["modelValue","items","error-messages"]),r(g,{modelValue:e.form.size,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.size=s),items:((a=l.$page.props.categories.find(s=>s.id===e.form.category_id))==null?void 0:a.sizes)||[],label:"Size",variant:"outlined","error-messages":e.form.errors.size,class:"mb-4"},null,8,["modelValue","items","error-messages"]),r(g,{modelValue:e.form.gender,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.gender=s),items:((f=l.$page.props.categories.find(s=>s.id===e.form.category_id))==null?void 0:f.gender)||[],label:"Gender",variant:"outlined","error-messages":e.form.errors.gender,class:"mb-4"},null,8,["modelValue","items","error-messages"]),r(_,{modelValue:e.form.usd_price,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.usd_price=s),label:"USD Price",type:"number",step:"0.01",variant:"outlined","error-messages":e.form.errors.usd_price,class:"mb-4"},null,8,["modelValue","error-messages"]),r(_,{modelValue:e.form.rtgs_price,"onUpdate:modelValue":o[4]||(o[4]=s=>e.form.rtgs_price=s),label:"RTGS Price",type:"number",step:"0.01",variant:"outlined","error-messages":e.form.errors.rtgs_price,class:"mb-4"},null,8,["modelValue","error-messages"]),r(N,null,{default:i(()=>[r(V),r(d,{variant:"flat",color:"error",onClick:o[5]||(o[5]=s=>e.showDialog=!1)},{default:i(()=>[m("Cancel")]),_:1}),r(d,{variant:"flat",color:"primary",type:"submit",loading:e.form.processing},{default:i(()=>[m(n(e.form.id?"Update":"Save"),1)]),_:1},8,["loading"])]),_:1})]}),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const me=P(E,[["render",L]]);export{me as default};
